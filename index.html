<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equipment Criticality Assessment System</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <style>
        .flag-icon {
            width: 20px;
            height: 15px;
            background-size: cover;
            display: inline-block;
            margin-right: 8px;
        }
        .flag-en { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAyMCAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjE1IiBmaWxsPSIjMDEyMTY5Ii8+CjxwYXRoIGQ9Ik0wIDBoMjB2MTRINS41em0wIDBoMjB2MTRINS41eiIgZmlsbD0iI0ZGRiIvPgo8L3N2Zz4K'); }
        .flag-fr { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAyMCAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYuNjciIGhlaWdodD0iMTUiIGZpbGw9IiMwMDJhOTUiLz4KPHJlY3QgeD0iNi42NyIgd2lkdGg9IjYuNjciIGhlaWdodD0iMTUiIGZpbGw9IiNGRkYiLz4KPHJlY3QgeD0iMTMuMzQiIHdpZHRoPSI2LjY2IiBoZWlnaHQ9IjE1IiBmaWxsPSIjZWYxOTIwIi8+Cjwvc3ZnPgo='); }
        .flag-de { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAyMCAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjUiIGZpbGw9IiMwMDAiLz4KPHJlY3QgeT0iNSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjUiIGZpbGw9IiNkZDBhMzciLz4KPHJlY3QgeT0iMTAiIHdpZHRoPSIyMCIgaGVpZ2h0PSI1IiBmaWxsPSIjZmZjZTAwIi8+Cjwvc3ZnPgo='); }
        .flag-es { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAyMCAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjE1IiBmaWxsPSIjZmZjNDAwIi8+CjxyZWN0IHk9IjMiIHdpZHRoPSIyMCIgaGVpZ2h0PSI5IiBmaWxsPSIjZWEwMDEyIi8+Cjwvc3ZnPgo='); }
        
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        .criticality-tier-1 { background-color: #fee2e2; border-left: 4px solid #dc2626; }
        .criticality-tier-2 { background-color: #fef3c7; border-left: 4px solid #f59e0b; }
        .criticality-tier-3 { background-color: #fef9c3; border-left: 4px solid #eab308; }
        .criticality-tier-4 { background-color: #f0fdf4; border-left: 4px solid #22c55e; }
        
         {
            .no-print { display: none !important; }
            body { font-size: 12px; }
            .container { max-width: none !important; }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header with Language Selector -->
    <header class="bg-white shadow-sm border-b no-print">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <i class="fas fa-cogs text-2xl text-blue-600"></i>
                    <h1 class="text-xl font-bold text-gray-900" id="main-title">Equipment Criticality Assessment System</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <select id="languageSelector" class="bg-white border border-gray-300 rounded-md px-3 py-2 text-sm">
                        <option value="en"><span class="flag-icon flag-en"></span>English</option>
                        <option value="fr"><span class="flag-icon flag-fr"></span>Français</option>
                        <option value="de"><span class="flag-icon flag-de"></span>Deutsch</option>
                        <option value="es"><span class="flag-icon flag-es"></span>Español</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-6">
        <!-- Navigation Tabs -->
        <nav class="flex space-x-4 mb-6 no-print">
            <button class="tab-btn px-4 py-2 bg-blue-600 text-white rounded-md" data-tab="dashboard">
                <i class="fas fa-tachometer-alt mr-2"></i><span data-translate="nav.dashboard">Dashboard</span>
            </button>
            <button class="tab-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300" data-tab="import">
                <i class="fas fa-upload mr-2"></i><span data-translate="nav.import">Import Assets</span>
            </button>
            <button class="tab-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300" data-tab="assessment">
                <i class="fas fa-clipboard-check mr-2"></i><span data-translate="nav.assessment">Batch Assessment</span>
            </button>
            <button class="tab-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300" data-tab="reports">
                <i class="fas fa-chart-bar mr-2"></i><span data-translate="nav.reports">Reports</span>
            </button>
            <button class="tab-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300" data-tab="settings">
                <i class="fas fa-cog mr-2"></i><span data-translate="nav.settings">Settings</span>
            </button>
        </nav>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                <!-- Statistics Cards -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <div class="flex items-center">
                        <div class="p-3 bg-blue-100 rounded-full">
                            <i class="fas fa-server text-blue-600 text-xl"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600" data-translate="dashboard.total_assets">Total Assets</p>
                            <p class="text-2xl font-bold text-gray-900" id="totalAssets">0</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow">
                    <div class="flex items-center">
                        <div class="p-3 bg-red-100 rounded-full">
                            <i class="fas fa-exclamation-triangle text-red-600 text-xl"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600" data-translate="dashboard.critical_assets">Critical Assets</p>
                            <p class="text-2xl font-bold text-gray-900" id="criticalAssets">0</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow">
                    <div class="flex items-center">
                        <div class="p-3 bg-green-100 rounded-full">
                            <i class="fas fa-check-circle text-green-600 text-xl"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600" data-translate="dashboard.assessed_assets">Assessed Assets</p>
                            <p class="text-2xl font-bold text-gray-900" id="assessedAssets">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Criticality Distribution Chart -->
            <div class="bg-white p-6 rounded-lg shadow mb-8">
                <h3 class="text-lg font-semibold mb-4" data-translate="dashboard.criticality_distribution">Criticality Distribution</h3>
                <div style="height: 400px;">
                    <canvas id="criticalityChart"></canvas>
                </div>
            </div>

            <!-- Asset List -->
            <div class="bg-white rounded-lg shadow">
                <div class="px-6 py-4 border-b border-gray-200">
                    <h3 class="text-lg font-semibold" data-translate="dashboard.recent_assets">Recent Assets</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="table.asset_id">Asset ID</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="table.name">Name</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="table.type">Type</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="table.location">Location</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="table.criticality">Criticality</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="table.actions">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="assetTableBody" class="bg-white divide-y divide-gray-200">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Import Tab -->
        <div id="import" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Import Form -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4" data-translate="import.title">Import Assets</h3>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="import.select_file">Select File</label>
                        <input type="file" id="fileInput" accept=".csv,.xlsx,.xls" class="w-full p-3 border border-gray-300 rounded-md">
                    </div>
                    
                    <div class="mb-6">
                        <button id="downloadTemplate" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700">
                            <i class="fas fa-download mr-2"></i><span data-translate="import.download_template">Download Template</span>
                        </button>
                    </div>
                    
                    <button id="importButton" class="w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700">
                        <i class="fas fa-upload mr-2"></i><span data-translate="import.import_data">Import Data</span>
                    </button>
                </div>
                
                <!-- Import Instructions -->
                <div class="bg-blue-50 p-6 rounded-lg">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-info-circle text-blue-600 text-xl mr-3"></i>
                        <h4 class="text-lg font-semibold text-blue-900" data-translate="import.validation_title">Import Validation</h4>
                    </div>
                    
                    <div class="space-y-3 text-sm text-blue-800">
                        <div class="flex items-start">
                            <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                            <span data-translate="import.validation.asset_id">Asset ID must be unique</span>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                            <span data-translate="import.validation.asset_name">Asset Name is required</span>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                            <span data-translate="import.validation.type">Type must be one of: Rotating, Fixed, Mobile, Electrical, Instrumentation</span>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                            <span data-translate="import.validation.location">Location should specify facility/area</span>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-info text-blue-600 mr-2 mt-1"></i>
                            <span data-translate="import.validation.optional">Optional fields: Description, Manufacturer, Model, Install Date</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Import Progress -->
            <div id="importProgress" class="mt-6 bg-white p-6 rounded-lg shadow hidden">
                <h4 class="text-lg font-semibold mb-4" data-translate="import.progress">Import Progress</h4>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div id="progressBar" class="bg-blue-600 h-2 rounded-full" style="width: 0%"></div>
                </div>
                <p id="progressText" class="text-sm text-gray-600 mt-2">0% Complete</p>
            </div>
        </div>

        <!-- Assessment Tab -->
        <div id="assessment" class="tab-content">
            <div class="bg-white rounded-lg shadow">
                <div class="px-6 py-4 border-b border-gray-200">
                    <h3 class="text-lg font-semibold" data-translate="assessment.title">Batch Asset Assessment</h3>
                </div>
                
                <!-- Assessment Controls -->
                <div class="p-6 border-b border-gray-200">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="assessment.currency">Currency</label>
                            <select id="currencySelect" class="w-full p-2 border border-gray-300 rounded-md">
                                <option value="USD">USD ($)</option>
                                <option value="EUR">EUR (€)</option>
                                <option value="GBP">GBP (£)</option>
                                <option value="CAD">CAD ($)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="assessment.filter_type">Filter by Type</label>
                            <select id="typeFilter" class="w-full p-2 border border-gray-300 rounded-md">
                                <option value="" data-translate="assessment.all_types">All Types</option>
                                <option value="Rotating" data-translate="assessment.rotating">Rotating</option>
                                <option value="Fixed" data-translate="assessment.fixed">Fixed</option>
                                <option value="Mobile" data-translate="assessment.mobile">Mobile</option>
                                <option value="Electrical" data-translate="assessment.electrical">Electrical</option>
                                <option value="Instrumentation" data-translate="assessment.instrumentation">Instrumentation</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="assessment.filter_location">Filter by Location</label>
                            <input type="text" id="locationFilter" placeholder="Enter location..." class="w-full p-2 border border-gray-300 rounded-md">
                        </div>
                        <div class="flex items-end">
                            <button id="bulkAssessBtn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
                                <i class="fas fa-magic mr-2"></i><span data-translate="assessment.bulk_assess">Bulk Assess</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Assessment Table -->
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left">
                                    <input type="checkbox" id="selectAll" class="rounded">
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="table.asset_id">Asset ID</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="table.name">Name</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="criteria.safety">Safety</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="criteria.environmental">Environmental</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="criteria.production">Production</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="criteria.financial">Financial</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="criteria.quality">Quality</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="criteria.reputation">Reputation</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-translate="table.criticality">Criticality</th>
                            </tr>
                        </thead>
                        <tbody id="assessmentTableBody" class="bg-white divide-y divide-gray-200">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Reports Tab -->
        <div id="reports" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Report Generation -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4" data-translate="reports.generation">Report Generation</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="reports.type">Report Type</label>
                            <select id="reportType" class="w-full p-2 border border-gray-300 rounded-md">
                                <option value="comprehensive" data-translate="reports.comprehensive">Comprehensive Assessment Report</option>
                                <option value="executive" data-translate="reports.executive">Executive Summary</option>
                                <option value="maintenance" data-translate="reports.maintenance">Maintenance Priority List</option>
                                <option value="department" data-translate="reports.department">Department-Specific Report</option>
                                <option value="compliance" data-translate="reports.compliance">Compliance Audit Report</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="reports.include_assets">Include Assets</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="includeAssets" value="all" checked class="mr-2">
                                    <span data-translate="reports.all_assets">All Assets</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="includeAssets" value="critical" class="mr-2">
                                    <span data-translate="reports.critical_only">Critical Assets Only</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="includeAssets" value="selected" class="mr-2">
                                    <span data-translate="reports.selected_only">Selected Assets Only</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="reports.company_name">Company Name</label>
                            <input type="text" id="companyName" placeholder="Enter company name..." class="w-full p-2 border border-gray-300 rounded-md">
                        </div>
                        
                        <button id="generateReport" class="w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700">
                            <i class="fas fa-file-pdf mr-2"></i><span data-translate="reports.generate_pdf">Generate PDF Report</span>
                        </button>
                    </div>
                </div>
                
                <!-- Maintenance Priority Matrix -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4" data-translate="reports.priority_matrix">Maintenance Priority Matrix</h3>
                    <div style="height: 400px;">
                        <canvas id="priorityMatrix"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Action Plan Summary -->
            <div class="mt-8 bg-white p-6 rounded-lg shadow">
                <h3 class="text-lg font-semibold mb-4" data-translate="reports.action_plan">Action Plan Summary</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="criticality-tier-1 p-4 rounded-lg">
                        <h4 class="font-semibold text-red-800 mb-2" data-translate="tiers.tier1">Tier 1 - Critical</h4>
                        <ul class="text-sm text-red-700 space-y-1">
                            <li data-translate="actions.tier1.predictive">• Predictive maintenance programs</li>
                            <li data-translate="actions.tier1.realtime">• Real-time monitoring systems</li>
                            <li data-translate="actions.tier1.redundancy">• Redundancy assessment</li>
                            <li data-translate="actions.tier1.emergency">• Emergency response procedures</li>
                        </ul>
                    </div>
                    <div class="criticality-tier-2 p-4 rounded-lg">
                        <h4 class="font-semibold text-orange-800 mb-2" data-translate="tiers.tier2">Tier 2 - High</h4>
                        <ul class="text-sm text-orange-700 space-y-1">
                            <li data-translate="actions.tier2.risk_based">• Risk-based inspections</li>
                            <li data-translate="actions.tier2.scheduled">• Scheduled PdM activities</li>
                            <li data-translate="actions.tier2.enhanced">• Enhanced PM programs</li>
                            <li data-translate="actions.tier2.failure_analysis">• Failure mode analysis</li>
                        </ul>
                    </div>
                    <div class="criticality-tier-3 p-4 rounded-lg">
                        <h4 class="font-semibold text-yellow-800 mb-2" data-translate="tiers.tier3">Tier 3 - Medium</h4>
                        <ul class="text-sm text-yellow-700 space-y-1">
                            <li data-translate="actions.tier3.preventive">• Standard preventive maintenance</li>
                            <li data-translate="actions.tier3.basic_monitoring">• Basic condition monitoring</li>
                            <li data-translate="actions.tier3.oem">• OEM recommended maintenance</li>
                            <li data-translate="actions.tier3.spare_parts">• Standard spare parts inventory</li>
                        </ul>
                    </div>
                    <div class="criticality-tier-4 p-4 rounded-lg">
                        <h4 class="font-semibold text-green-800 mb-2" data-translate="tiers.tier4">Tier 4 - Low</h4>
                        <ul class="text-sm text-green-700 space-y-1">
                            <li data-translate="actions.tier4.run_to_failure">• Run-to-failure strategy</li>
                            <li data-translate="actions.tier4.minimal">• Minimal intervention</li>
                            <li data-translate="actions.tier4.safety_checks">• Safety checks only</li>
                            <li data-translate="actions.tier4.cost_optimization">• Cost optimization focus</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Criteria Customization -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4" data-translate="settings.criteria_customization">Impact Criteria Customization</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="settings.industry_template">Industry Template</label>
                            <select id="industryTemplate" class="w-full p-2 border border-gray-300 rounded-md">
                                <option value="manufacturing" data-translate="industries.manufacturing">Manufacturing</option>
                                <option value="oil_gas" data-translate="industries.oil_gas">Oil & Gas</option>
                                <option value="chemical" data-translate="industries.chemical">Chemical Processing</option>
                                <option value="pharmaceutical" data-translate="industries.pharmaceutical">Pharmaceutical</option>
                                <option value="power" data-translate="industries.power">Power Generation</option>
                                <option value="water" data-translate="industries.water">Water Treatment</option>
                                <option value="food" data-translate="industries.food">Food & Beverage</option>
                            </select>
                        </div>
                        
                        <div>
                            <h4 class="font-medium text-gray-700 mb-2" data-translate="settings.criteria_weights">Criteria Weights</h4>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between">
                                    <span data-translate="criteria.safety">Safety</span>
                                    <input type="range" id="safetyWeight" min="0" max="50" value="25" class="w-32">
                                    <span id="safetyWeightValue">25%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span data-translate="criteria.environmental">Environmental</span>
                                    <input type="range" id="environmentalWeight" min="0" max="50" value="20" class="w-32">
                                    <span id="environmentalWeightValue">20%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span data-translate="criteria.production">Production</span>
                                    <input type="range" id="productionWeight" min="0" max="50" value="25" class="w-32">
                                    <span id="productionWeightValue">25%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span data-translate="criteria.financial">Financial</span>
                                    <input type="range" id="financialWeight" min="0" max="50" value="15" class="w-32">
                                    <span id="financialWeightValue">15%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span data-translate="criteria.quality">Quality</span>
                                    <input type="range" id="qualityWeight" min="0" max="50" value="10" class="w-32">
                                    <span id="qualityWeightValue">10%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span data-translate="criteria.reputation">Reputation</span>
                                    <input type="range" id="reputationWeight" min="0" max="50" value="5" class="w-32">
                                    <span id="reputationWeightValue">5%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Regional Settings -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4" data-translate="settings.regional">Regional Settings</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="settings.default_currency">Default Currency</label>
                            <select id="defaultCurrency" class="w-full p-2 border border-gray-300 rounded-md">
                                <option value="USD">USD - US Dollar</option>
                                <option value="EUR">EUR - Euro</option>
                                <option value="GBP">GBP - British Pound</option>
                                <option value="CAD">CAD - Canadian Dollar</option>
                                <option value="AUD">AUD - Australian Dollar</option>
                                <option value="JPY">JPY - Japanese Yen</option>
                                <option value="CNY">CNY - Chinese Yuan</option>
                                <option value="INR">INR - Indian Rupee</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="settings.regulatory_framework">Regulatory Framework</label>
                            <select id="regulatoryFramework" class="w-full p-2 border border-gray-300 rounded-md">
                                <option value="OSHA" data-translate="regulations.osha">OSHA (United States)</option>
                                <option value="HSE" data-translate="regulations.hse">HSE (United Kingdom)</option>
                                <option value="DGUV" data-translate="regulations.dguv">DGUV (Germany)</option>
                                <option value="INRS" data-translate="regulations.inrs">INRS (France)</option>
                                <option value="INSST" data-translate="regulations.insst">INSST (Spain)</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="settings.date_format">Date Format</label>
                            <select id="dateFormat" class="w-full p-2 border border-gray-300 rounded-md">
                                <option value="MM/DD/YYYY">MM/DD/YYYY (US)</option>
                                <option value="DD/MM/YYYY">DD/MM/YYYY (EU)</option>
                                <option value="YYYY-MM-DD">YYYY-MM-DD (ISO)</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="settings.number_format">Number Format</label>
                            <select id="numberFormat" class="w-full p-2 border border-gray-300 rounded-md">
                                <option value="1,000.00">1,000.00 (US/UK)</option>
                                <option value="1.000,00">1.000,00 (EU)</option>
                                <option value="1 000,00">1 000,00 (France)</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Translation System
        const translations = {
            en: {
                'nav.dashboard': 'Dashboard',
                'nav.import': 'Import Assets',
                'nav.assessment': 'Batch Assessment',
                'nav.reports': 'Reports',
                'nav.settings': 'Settings',
                'dashboard.total_assets': 'Total Assets',
                'dashboard.critical_assets': 'Critical Assets',
                'dashboard.assessed_assets': 'Assessed Assets',
                'dashboard.criticality_distribution': 'Criticality Distribution',
                'dashboard.recent_assets': 'Recent Assets',
                'table.asset_id': 'Asset ID',
                'table.name': 'Name',
                'table.type': 'Type',
                'table.location': 'Location',
                'table.criticality': 'Criticality',
                'table.actions': 'Actions',
                'import.title': 'Import Assets',
                'import.select_file': 'Select File',
                'import.download_template': 'Download Template',
                'import.import_data': 'Import Data',
                'import.validation_title': 'Import Validation',
                'import.validation.asset_id': 'Asset ID must be unique',
                'import.validation.asset_name': 'Asset Name is required',
                'import.validation.type': 'Type must be one of: Rotating, Fixed, Mobile, Electrical, Instrumentation',
                'import.validation.location': 'Location should specify facility/area',
                'import.validation.optional': 'Optional fields: Description, Manufacturer, Model, Install Date',
                'import.progress': 'Import Progress',
                'assessment.title': 'Batch Asset Assessment',
                'assessment.currency': 'Currency',
                'assessment.filter_type': 'Filter by Type',
                'assessment.all_types': 'All Types',
                'assessment.rotating': 'Rotating',
                'assessment.fixed': 'Fixed',
                'assessment.mobile': 'Mobile',
                'assessment.electrical': 'Electrical',
                'assessment.instrumentation': 'Instrumentation',
                'assessment.filter_location': 'Filter by Location',
                'assessment.bulk_assess': 'Bulk Assess',
                'criteria.safety': 'Safety',
                'criteria.environmental': 'Environmental',
                'criteria.production': 'Production',
                'criteria.financial': 'Financial',
                'criteria.quality': 'Quality',
                'criteria.reputation': 'Reputation',
                'reports.generation': 'Report Generation',
                'reports.type': 'Report Type',
                'reports.comprehensive': 'Comprehensive Assessment Report',
                'reports.executive': 'Executive Summary',
                'reports.maintenance': 'Maintenance Priority List',
                'reports.department': 'Department-Specific Report',
                'reports.compliance': 'Compliance Audit Report',
                'reports.include_assets': 'Include Assets',
                'reports.all_assets': 'All Assets',
                'reports.critical_only': 'Critical Assets Only',
                'reports.selected_only': 'Selected Assets Only',
                'reports.company_name': 'Company Name',
                'reports.generate_pdf': 'Generate PDF Report',
                'reports.priority_matrix': 'Maintenance Priority Matrix',
                'reports.action_plan': 'Action Plan Summary',
                'tiers.tier1': 'Tier 1 - Critical',
                'tiers.tier2': 'Tier 2 - High',
                'tiers.tier3': 'Tier 3 - Medium',
                'tiers.tier4': 'Tier 4 - Low',
                'actions.tier1.predictive': '• Predictive maintenance programs',
                'actions.tier1.realtime': '• Real-time monitoring systems',
                'actions.tier1.redundancy': '• Redundancy assessment',
                'actions.tier1.emergency': '• Emergency response procedures',
                'actions.tier2.risk_based': '• Risk-based inspections',
                'actions.tier2.scheduled': '• Scheduled PdM activities',
                'actions.tier2.enhanced': '• Enhanced PM programs',
                'actions.tier2.failure_analysis': '• Failure mode analysis',
                'actions.tier3.preventive': '• Standard preventive maintenance',
                'actions.tier3.basic_monitoring': '• Basic condition monitoring',
                'actions.tier3.oem': '• OEM recommended maintenance',
                'actions.tier3.spare_parts': '• Standard spare parts inventory',
                'actions.tier4.run_to_failure': '• Run-to-failure strategy',
                'actions.tier4.minimal': '• Minimal intervention',
                'actions.tier4.safety_checks': '• Safety checks only',
                'actions.tier4.cost_optimization': '• Cost optimization focus',
                'settings.criteria_customization': 'Impact Criteria Customization',
                'settings.industry_template': 'Industry Template',
                'settings.criteria_weights': 'Criteria Weights',
                'settings.regional': 'Regional Settings',
                'settings.default_currency': 'Default Currency',
                'settings.regulatory_framework': 'Regulatory Framework',
                'settings.date_format': 'Date Format',
                'settings.number_format': 'Number Format',
                'industries.manufacturing': 'Manufacturing',
                'industries.oil_gas': 'Oil & Gas',
                'industries.chemical': 'Chemical Processing',
                'industries.pharmaceutical': 'Pharmaceutical',
                'industries.power': 'Power Generation',
                'industries.water': 'Water Treatment',
                'industries.food': 'Food & Beverage',
                'regulations.osha': 'OSHA (United States)',
                'regulations.hse': 'HSE (United Kingdom)',
                'regulations.dguv': 'DGUV (Germany)',
                'regulations.inrs': 'INRS (France)',
                'regulations.insst': 'INSST (Spain)'
            },
            fr: {
                'nav.dashboard': 'Tableau de bord',
                'nav.import': 'Importer des actifs',
                'nav.assessment': 'Évaluation par lots',
                'nav.reports': 'Rapports',
                'nav.settings': 'Paramètres',
                'dashboard.total_assets': 'Total des actifs',
                'dashboard.critical_assets': 'Actifs critiques',
                'dashboard.assessed_assets': 'Actifs évalués',
                'dashboard.criticality_distribution': 'Distribution de criticité',
                'dashboard.recent_assets': 'Actifs récents',
                'table.asset_id': 'ID Actif',
                'table.name': 'Nom',
                'table.type': 'Type',
                'table.location': 'Emplacement',
                'table.criticality': 'Criticité',
                'table.actions': 'Actions',
                'import.title': 'Importer des actifs',
                'import.select_file': 'Sélectionner un fichier',
                'import.download_template': 'Télécharger le modèle',
                'import.import_data': 'Importer les données',
                'import.validation_title': 'Validation d\'importation',
                'import.validation.asset_id': 'L\'ID de l\'actif doit être unique',
                'import.validation.asset_name': 'Le nom de l\'actif est requis',
                'import.validation.type': 'Le type doit être : Rotatif, Fixe, Mobile, Électrique, Instrumentation',
                'import.validation.location': 'L\'emplacement doit spécifier l\'installation/zone',
                'import.validation.optional': 'Champs optionnels : Description, Fabricant, Modèle, Date d\'installation',
                'import.progress': 'Progression de l\'importation',
                'assessment.title': 'Évaluation par lots des actifs',
                'assessment.currency': 'Devise',
                'assessment.filter_type': 'Filtrer par type',
                'assessment.all_types': 'Tous les types',
                'assessment.rotating': 'Rotatif',
                'assessment.fixed': 'Fixe',
                'assessment.mobile': 'Mobile',
                'assessment.electrical': 'Électrique',
                'assessment.instrumentation': 'Instrumentation',
                'assessment.filter_location': 'Filtrer par emplacement',
                'assessment.bulk_assess': 'Évaluation en masse',
                'criteria.safety': 'Sécurité',
                'criteria.environmental': 'Environnemental',
                'criteria.production': 'Production',
                'criteria.financial': 'Financier',
                'criteria.quality': 'Qualité',
                'criteria.reputation': 'Réputation',
                'reports.generation': 'Génération de rapports',
                'reports.type': 'Type de rapport',
                'reports.comprehensive': 'Rapport d\'évaluation complet',
                'reports.executive': 'Résumé exécutif',
                'reports.maintenance': 'Liste de priorités de maintenance',
                'reports.department': 'Rapport spécifique au département',
                'reports.compliance': 'Rapport d\'audit de conformité',
                'reports.include_assets': 'Inclure les actifs',
                'reports.all_assets': 'Tous les actifs',
                'reports.critical_only': 'Actifs critiques uniquement',
                'reports.selected_only': 'Actifs sélectionnés uniquement',
                'reports.company_name': 'Nom de l\'entreprise',
                'reports.generate_pdf': 'Générer un rapport PDF',
                'reports.priority_matrix': 'Matrice de priorité de maintenance',
                'reports.action_plan': 'Résumé du plan d\'action',
                'tiers.tier1': 'Niveau 1 - Critique',
                'tiers.tier2': 'Niveau 2 - Élevé',
                'tiers.tier3': 'Niveau 3 - Moyen',
                'tiers.tier4': 'Niveau 4 - Faible',
                'actions.tier1.predictive': '• Programmes de maintenance prédictive',
                'actions.tier1.realtime': '• Systèmes de surveillance en temps réel',
                'actions.tier1.redundancy': '• Évaluation de la redondance',
                'actions.tier1.emergency': '• Procédures d\'intervention d\'urgence',
                'actions.tier2.risk_based': '• Inspections basées sur les risques',
                'actions.tier2.scheduled': '• Activités PdM programmées',
                'actions.tier2.enhanced': '• Programmes PM améliorés',
                'actions.tier2.failure_analysis': '• Analyse des modes de défaillance',
                'actions.tier3.preventive': '• Maintenance préventive standard',
                'actions.tier3.basic_monitoring': '• Surveillance d\'état de base',
                'actions.tier3.oem': '• Maintenance recommandée par le fabricant',
                'actions.tier3.spare_parts': '• Inventaire de pièces de rechange standard',
                'actions.tier4.run_to_failure': '• Stratégie de fonctionnement jusqu\'à panne',
                'actions.tier4.minimal': '• Intervention minimale',
                'actions.tier4.safety_checks': '• Contrôles de sécurité uniquement',
                'actions.tier4.cost_optimization': '• Focus sur l\'optimisation des coûts',
                'settings.criteria_customization': 'Personnalisation des critères d\'impact',
                'settings.industry_template': 'Modèle d\'industrie',
                'settings.criteria_weights': 'Poids des critères',
                'settings.regional': 'Paramètres régionaux',
                'settings.default_currency': 'Devise par défaut',
                'settings.regulatory_framework': 'Cadre réglementaire',
                'settings.date_format': 'Format de date',
                'settings.number_format': 'Format de nombre',
                'industries.manufacturing': 'Fabrication',
                'industries.oil_gas': 'Pétrole et gaz',
                'industries.chemical': 'Traitement chimique',
                'industries.pharmaceutical': 'Pharmaceutique',
                'industries.power': 'Production d\'énergie',
                'industries.water': 'Traitement de l\'eau',
                'industries.food': 'Alimentation et boissons',
                'regulations.osha': 'OSHA (États-Unis)',
                'regulations.hse': 'HSE (Royaume-Uni)',
                'regulations.dguv': 'DGUV (Allemagne)',
                'regulations.inrs': 'INRS (France)',
                'regulations.insst': 'INSST (Espagne)'
            },
            de: {
                'nav.dashboard': 'Dashboard',
                'nav.import': 'Anlagen importieren',
                'nav.assessment': 'Batch-Bewertung',
                'nav.reports': 'Berichte',
                'nav.settings': 'Einstellungen',
                'dashboard.total_assets': 'Gesamtanlagen',
                'dashboard.critical_assets': 'Kritische Anlagen',
                'dashboard.assessed_assets': 'Bewertete Anlagen',
                'dashboard.criticality_distribution': 'Kritikalitätsverteilung',
                'dashboard.recent_assets': 'Aktuelle Anlagen',
                'table.asset_id': 'Anlagen-ID',
                'table.name': 'Name',
                'table.type': 'Typ',
                'table.location': 'Standort',
                'table.criticality': 'Kritikalität',
                'table.actions': 'Aktionen',
                'import.title': 'Anlagen importieren',
                'import.select_file': 'Datei auswählen',
                'import.download_template': 'Vorlage herunterladen',
                'import.import_data': 'Daten importieren',
                'import.validation_title': 'Import-Validierung',
                'import.validation.asset_id': 'Anlagen-ID muss eindeutig sein',
                'import.validation.asset_name': 'Anlagenname ist erforderlich',
                'import.validation.type': 'Typ muss sein: Rotierend, Fest, Mobil, Elektrisch, Instrumentierung',
                'import.validation.location': 'Standort sollte Anlage/Bereich spezifizieren',
                'import.validation.optional': 'Optionale Felder: Beschreibung, Hersteller, Modell, Installationsdatum',
                'import.progress': 'Import-Fortschritt',
                'assessment.title': 'Batch-Anlagenbewertung',
                'assessment.currency': 'Währung',
                'assessment.filter_type': 'Nach Typ filtern',
                'assessment.all_types': 'Alle Typen',
                'assessment.rotating': 'Rotierend',
                'assessment.fixed': 'Fest',
                'assessment.mobile': 'Mobil',
                'assessment.electrical': 'Elektrisch',
                'assessment.instrumentation': 'Instrumentierung',
                'assessment.filter_location': 'Nach Standort filtern',
                'assessment.bulk_assess': 'Massenbewertung',
                'criteria.safety': 'Sicherheit',
                'criteria.environmental': 'Umwelt',
                'criteria.production': 'Produktion',
                'criteria.financial': 'Finanziell',
                'criteria.quality': 'Qualität',
                'criteria.reputation': 'Ruf',
                'reports.generation': 'Berichtserstellung',
                'reports.type': 'Berichtstyp',
                'reports.comprehensive': 'Umfassender Bewertungsbericht',
                'reports.executive': 'Zusammenfassung für Führungskräfte',
                'reports.maintenance': 'Wartungsprioritätenliste',
                'reports.department': 'Abteilungsspezifischer Bericht',
                'reports.compliance': 'Compliance-Auditbericht',
                'reports.include_assets': 'Anlagen einschließen',
                'reports.all_assets': 'Alle Anlagen',
                'reports.critical_only': 'Nur kritische Anlagen',
                'reports.selected_only': 'Nur ausgewählte Anlagen',
                'reports.company_name': 'Firmenname',
                'reports.generate_pdf': 'PDF-Bericht erstellen',
                'reports.priority_matrix': 'Wartungsprioritäten-Matrix',
                'reports.action_plan': 'Aktionsplan-Zusammenfassung',
                'tiers.tier1': 'Stufe 1 - Kritisch',
                'tiers.tier2': 'Stufe 2 - Hoch',
                'tiers.tier3': 'Stufe 3 - Mittel',
                'tiers.tier4': 'Stufe 4 - Niedrig',
                'actions.tier1.predictive': '• Vorausschauende Wartungsprogramme',
                'actions.tier1.realtime': '• Echtzeit-Überwachungssysteme',
                'actions.tier1.redundancy': '• Redundanzbewertung',
                'actions.tier1.emergency': '• Notfallverfahren',
                'actions.tier2.risk_based': '• Risikobasierte Inspektionen',
                'actions.tier2.scheduled': '• Geplante PdM-Aktivitäten',
                'actions.tier2.enhanced': '• Erweiterte PM-Programme',
                'actions.tier2.failure_analysis': '• Ausfallmodusanalyse',
                'actions.tier3.preventive': '• Standard-Vorbeugungswartung',
                'actions.tier3.basic_monitoring': '• Grundlegende Zustandsüberwachung',
                'actions.tier3.oem': '• Vom Hersteller empfohlene Wartung',
                'actions.tier3.spare_parts': '• Standard-Ersatzteilinventar',
                'actions.tier4.run_to_failure': '• Laufzeit-bis-Ausfall-Strategie',
                'actions.tier4.minimal': '• Minimale Intervention',
                'actions.tier4.safety_checks': '• Nur Sicherheitsprüfungen',
                'actions.tier4.cost_optimization': '• Fokus auf Kostenoptimierung',
                'settings.criteria_customization': 'Anpassung der Auswirkungskriterien',
                'settings.industry_template': 'Branchenvorlage',
                'settings.criteria_weights': 'Kriteriengewichtung',
                'settings.regional': 'Regionale Einstellungen',
                'settings.default_currency': 'Standardwährung',
                'settings.regulatory_framework': 'Regulatorischer Rahmen',
                'settings.date_format': 'Datumsformat',
                'settings.number_format': 'Zahlenformat',
                'industries.manufacturing': 'Fertigung',
                'industries.oil_gas': 'Öl & Gas',
                'industries.chemical': 'Chemische Verarbeitung',
                'industries.pharmaceutical': 'Pharmazeutisch',
                'industries.power': 'Energieerzeugung',
                'industries.water': 'Wasseraufbereitung',
                'industries.food': 'Lebensmittel & Getränke',
                'regulations.osha': 'OSHA (Vereinigte Staaten)',
                'regulations.hse': 'HSE (Vereinigtes Königreich)',
                'regulations.dguv': 'DGUV (Deutschland)',
                'regulations.inrs': 'INRS (Frankreich)',
                'regulations.insst': 'INSST (Spanien)'
            },
            es: {
                'nav.dashboard': 'Panel de control',
                'nav.import': 'Importar activos',
                'nav.assessment': 'Evaluación por lotes',
                'nav.reports': 'Informes',
                'nav.settings': 'Configuración',
                'dashboard.total_assets': 'Activos totales',
                'dashboard.critical_assets': 'Activos críticos',
                'dashboard.assessed_assets': 'Activos evaluados',
                'dashboard.criticality_distribution': 'Distribución de criticidad',
                'dashboard.recent_assets': 'Activos recientes',
                'table.asset_id': 'ID Activo',
                'table.name': 'Nombre',
                'table.type': 'Tipo',
                'table.location': 'Ubicación',
                'table.criticality': 'Criticidad',
                'table.actions': 'Acciones',
                'import.title': 'Importar activos',
                'import.select_file': 'Seleccionar archivo',
                'import.download_template': 'Descargar plantilla',
                'import.import_data': 'Importar datos',
                'import.validation_title': 'Validación de importación',
                'import.validation.asset_id': 'El ID del activo debe ser único',
                'import.validation.asset_name': 'El nombre del activo es requerido',
                'import.validation.type': 'El tipo debe ser: Rotativo, Fijo, Móvil, Eléctrico, Instrumentación',
                'import.validation.location': 'La ubicación debe especificar instalación/área',
                'import.validation.optional': 'Campos opcionales: Descripción, Fabricante, Modelo, Fecha de instalación',
                'import.progress': 'Progreso de importación',
                'assessment.title': 'Evaluación por lotes de activos',
                'assessment.currency': 'Moneda',
                'assessment.filter_type': 'Filtrar por tipo',
                'assessment.all_types': 'Todos los tipos',
                'assessment.rotating': 'Rotativo',
                'assessment.fixed': 'Fijo',
                'assessment.mobile': 'Móvil',
                'assessment.electrical': 'Eléctrico',
                'assessment.instrumentation': 'Instrumentación',
                'assessment.filter_location': 'Filtrar por ubicación',
                'assessment.bulk_assess': 'Evaluación masiva',
                'criteria.safety': 'Seguridad',
                'criteria.environmental': 'Ambiental',
                'criteria.production': 'Producción',
                'criteria.financial': 'Financiero',
                'criteria.quality': 'Calidad',
                'criteria.reputation': 'Reputación',
                'reports.generation': 'Generación de informes',
                'reports.type': 'Tipo de informe',
                'reports.comprehensive': 'Informe de evaluación integral',
                'reports.executive': 'Resumen ejecutivo',
                'reports.maintenance': 'Lista de prioridades de mantenimiento',
                'reports.department': 'Informe específico del departamento',
                'reports.compliance': 'Informe de auditoría de cumplimiento',
                'reports.include_assets': 'Incluir activos',
                'reports.all_assets': 'Todos los activos',
                'reports.critical_only': 'Solo activos críticos',
                'reports.selected_only': 'Solo activos seleccionados',
                'reports.company_name': 'Nombre de la empresa',
                'reports.generate_pdf': 'Generar informe PDF',
                'reports.priority_matrix': 'Matriz de prioridad de mantenimiento',
                'reports.action_plan': 'Resumen del plan de acción',
                'tiers.tier1': 'Nivel 1 - Crítico',
                'tiers.tier2': 'Nivel 2 - Alto',
                'tiers.tier3': 'Nivel 3 - Medio',
                'tiers.tier4': 'Nivel 4 - Bajo',
                'actions.tier1.predictive': '• Programas de mantenimiento predictivo',
                'actions.tier1.realtime': '• Sistemas de monitoreo en tiempo real',
                'actions.tier1.redundancy': '• Evaluación de redundancia',
                'actions.tier1.emergency': '• Procedimientos de respuesta de emergencia',
                'actions.tier2.risk_based': '• Inspecciones basadas en riesgo',
                'actions.tier2.scheduled': '• Actividades PdM programadas',
                'actions.tier2.enhanced': '• Programas PM mejorados',
                'actions.tier2.failure_analysis': '• Análisis de modos de falla',
                'actions.tier3.preventive': '• Mantenimiento preventivo estándar',
                'actions.tier3.basic_monitoring': '• Monitoreo de condición básico',
                'actions.tier3.oem': '• Mantenimiento recomendado por el fabricante',
                'actions.tier3.spare_parts': '• Inventario estándar de repuestos',
                'actions.tier4.run_to_failure': '• Estrategia de funcionamiento hasta falla',
                'actions.tier4.minimal': '• Intervención mínima',
                'actions.tier4.safety_checks': '• Solo verificaciones de seguridad',
                'actions.tier4.cost_optimization': '• Enfoque en optimización de costos',
                'settings.criteria_customization': 'Personalización de criterios de impacto',
                'settings.industry_template': 'Plantilla de industria',
                'settings.criteria_weights': 'Pesos de criterios',
                'settings.regional': 'Configuración regional',
                'settings.default_currency': 'Moneda predeterminada',
                'settings.regulatory_framework': 'Marco regulatorio',
                'settings.date_format': 'Formato de fecha',
                'settings.number_format': 'Formato de número',
                'industries.manufacturing': 'Manufactura',
                'industries.oil_gas': 'Petróleo y gas',
                'industries.chemical': 'Procesamiento químico',
                'industries.pharmaceutical': 'Farmacéutico',
                'industries.power': 'Generación de energía',
                'industries.water': 'Tratamiento de agua',
                'industries.food': 'Alimentos y bebidas',
                'regulations.osha': 'OSHA (Estados Unidos)',
                'regulations.hse': 'HSE (Reino Unido)',
                'regulations.dguv': 'DGUV (Alemania)',
                'regulations.inrs': 'INRS (Francia)',
                'regulations.insst': 'INSST (España)'
            }
        };

        // Global variables
        let currentLanguage = 'en';
        let assets = [];
        let criticalityChart = null;
        let priorityMatrix = null;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeLanguage();
            initializeTabs();
            initializeCharts();
            initializeEventListeners();
            loadSampleData();
        });

        // Language Management
        function initializeLanguage() {
            const savedLanguage = localStorage.getItem('selectedLanguage') || 'en';
            setLanguage(savedLanguage);
            document.getElementById('languageSelector').value = savedLanguage;
        }

        function setLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('selectedLanguage', lang);
            
            // Update all translatable elements
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });

            // Update main title
            const titles = {
                en: 'Equipment Criticality Assessment System',
                fr: 'Système d\'évaluation de la criticité des équipements',
                de: 'System zur Bewertung der Anlagenkritikalität',
                es: 'Sistema de evaluación de criticidad de equipos'
            };
            document.getElementById('main-title').textContent = titles[lang];

            // Update currency based on language
            updateCurrencyByLanguage(lang);
        }

        function updateCurrencyByLanguage(lang) {
            const currencyMap = {
                en: 'USD',
                fr: 'EUR',
                de: 'EUR',
                es: 'EUR'
            };
            
            const currencySelect = document.getElementById('currencySelect');
            const defaultCurrency = document.getElementById('defaultCurrency');
            
            if (currencySelect) currencySelect.value = currencyMap[lang];
            if (defaultCurrency) defaultCurrency.value = currencyMap[lang];
        }

        // Tab Management
        function initializeTabs() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.getAttribute('data-tab');
                    
                    // Update button states
                    tabButtons.forEach(btn => {
                        btn.classList.remove('bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'text-gray-700');
                    });
                    button.classList.remove('bg-gray-200', 'text-gray-700');
                    button.classList.add('bg-blue-600', 'text-white');
                    
                    // Update content visibility
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(targetTab).classList.add('active');
                });
            });
        }

        // Chart Initialization
        function initializeCharts() {
            // Criticality Distribution Chart
            const ctx1 = document.getElementById('criticalityChart').getContext('2d');
            criticalityChart = new Chart(ctx1, {
                type: 'doughnut',
                data: {
                    labels: ['Tier 1 - Critical', 'Tier 2 - High', 'Tier 3 - Medium', 'Tier 4 - Low'],
                    datasets: [{
                        data: [0, 0, 0, 0],
                        backgroundColor: ['#dc2626', '#f59e0b', '#eab308', '#22c55e'],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Priority Matrix Chart
            const ctx2 = document.getElementById('priorityMatrix').getContext('2d');
            priorityMatrix = new Chart(ctx2, {
                type: 'scatter',
                data: {
                    datasets: []
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Failure Probability'
                            },
                            min: 0,
                            max: 10
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Impact Severity'
                            },
                            min: 0,
                            max: 10
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // Event Listeners
        function initializeEventListeners() {
            // Language selector
            document.getElementById('languageSelector').addEventListener('change', function() {
                setLanguage(this.value);
            });

            // File import
            document.getElementById('downloadTemplate').addEventListener('click', downloadTemplate);
            document.getElementById('importButton').addEventListener('click', importAssets);

            // Assessment controls
            document.getElementById('selectAll').addEventListener('change', function() {
                const checkboxes = document.querySelectorAll('#assessmentTableBody input[type="checkbox"]');
                checkboxes.forEach(cb => cb.checked = this.checked);
            });

            document.getElementById('bulkAssessBtn').addEventListener('click', bulkAssess);

            // Report generation
            document.getElementById('generateReport').addEventListener('click', generateReport);

            // Settings weight sliders
            const weightSliders = ['safety', 'environmental', 'production', 'financial', 'quality', 'reputation'];
            weightSliders.forEach(criterion => {
                const slider = document.getElementById(criterion + 'Weight');
                const value = document.getElementById(criterion + 'WeightValue');
                
                slider.addEventListener('input', function() {
                    value.textContent = this.value + '%';
                });
            });
        }

        // Sample Data
        function loadSampleData() {
            const sampleAssets = [
                {
                    id: 'P-001',
                    name: 'Primary Pump A',
                    type: 'Rotating',
                    location: 'Plant A - Area 1',
                    manufacturer: 'Grundfos',
                    model: 'CR-200',
                    installDate: '2020-01-15',
                    safety: 8,
                    environmental: 6,
                    production: 9,
                    financial: 7,
                    quality: 8,
                    reputation: 6,
                    criticality: 0,
                    tier: 1
                },
                {
                    id: 'V-002',
                    name: 'Storage Tank B',
                    type: 'Fixed',
                    location: 'Plant A - Area 2',
                    manufacturer: 'Acme Tanks',
                    model: 'ST-5000',
                    installDate: '2019-05-20',
                    safety: 5,
                    environmental: 4,
                    production: 6,
                    financial: 4,
                    quality: 5,
                    reputation: 3,
                    criticality: 0,
                    tier: 3
                },
                {
                    id: 'M-003',
                    name: 'Conveyor Motor C',
                    type: 'Electrical',
                    location: 'Plant B - Area 1',
                    manufacturer: 'Siemens',
                    model: 'IEC-315',
                    installDate: '2021-03-10',
                    safety: 7,
                    environmental: 3,
                    production: 8,
                    financial: 6,
                    quality: 7,
                    reputation: 4,
                    criticality: 0,
                    tier: 2
                }
            ];

            assets = sampleAssets;
            calculateCriticality();
            updateDashboard();
            updateAssessmentTable();
        }

        // Criticality Calculation
        function calculateCriticality() {
            const weights = {
                safety: parseInt(document.getElementById('safetyWeight').value) / 100,
                environmental: parseInt(document.getElementById('environmentalWeight').value) / 100,
                production: parseInt(document.getElementById('productionWeight').value) / 100,
                financial: parseInt(document.getElementById('financialWeight').value) / 100,
                quality: parseInt(document.getElementById('qualityWeight').value) / 100,
                reputation: parseInt(document.getElementById('reputationWeight').value) / 100
            };

            assets.forEach(asset => {
                asset.criticality = (
                    asset.safety * weights.safety +
                    asset.environmental * weights.environmental +
                    asset.production * weights.production +
                    asset.financial * weights.financial +
                    asset.quality * weights.quality +
                    asset.reputation * weights.reputation
                );

                // Assign tier based on criticality score
                if (asset.criticality >= 8) asset.tier = 1;
                else if (asset.criticality >= 6) asset.tier = 2;
                else if (asset.criticality >= 4) asset.tier = 3;
                else asset.tier = 4;
            });

            // Sort by criticality
            assets.sort((a, b) => b.criticality - a.criticality);
        }

        // Dashboard Updates
        function updateDashboard() {
            document.getElementById('totalAssets').textContent = assets.length;
            document.getElementById('criticalAssets').textContent = assets.filter(a => a.tier === 1).length;
            document.getElementById('assessedAssets').textContent = assets.filter(a => a.criticality > 0).length;

            // Update criticality chart
            const tierCounts = [0, 0, 0, 0];
            assets.forEach(asset => {
                tierCounts[asset.tier - 1]++;
            });

            criticalityChart.data.datasets[0].data = tierCounts;
            criticalityChart.update();

            // Update asset table
            updateAssetTable();
        }

        function updateAssetTable() {
            const tbody = document.getElementById('assetTableBody');
            tbody.innerHTML = '';

            assets.slice(0, 10).forEach(asset => {
                const row = document.createElement('tr');
                const tierClass = `criticality-tier-${asset.tier}`;
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${asset.id}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${asset.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${asset.type}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${asset.location}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${tierClass}">
                            Tier ${asset.tier}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button class="text-indigo-600 hover:text-indigo-900">Edit</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function updateAssessmentTable() {
            const tbody = document.getElementById('assessmentTableBody');
            tbody.innerHTML = '';

            assets.forEach(asset => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap">
                        <input type="checkbox" class="rounded" data-asset-id="${asset.id}">
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${asset.id}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${asset.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <input type="number" min="1" max="10" value="${asset.safety}" class="w-16 p-1 border rounded" data-criterion="safety" data-asset-id="${asset.id}">
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <input type="number" min="1" max="10" value="${asset.environmental}" class="w-16 p-1 border rounded" data-criterion="environmental" data-asset-id="${asset.id}">
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <input type="number" min="1" max="10" value="${asset.production}" class="w-16 p-1 border rounded" data-criterion="production" data-asset-id="${asset.id}">
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <input type="number" min="1" max="10" value="${asset.financial}" class="w-16 p-1 border rounded" data-criterion="financial" data-asset-id="${asset.id}">
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <input type="number" min="1" max="10" value="${asset.quality}" class="w-16 p-1 border rounded" data-criterion="quality" data-asset-id="${asset.id}">
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <input type="number" min="1" max="10" value="${asset.reputation}" class="w-16 p-1 border rounded" data-criterion="reputation" data-asset-id="${asset.id}">
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full criticality-tier-${asset.tier}">
                            ${asset.criticality.toFixed(1)}
                        </span>
                    </td>
                `;
                tbody.appendChild(row);
            });

            // Add event listeners to input fields
            const inputs = tbody.querySelectorAll('input[type="number"]');
            inputs.forEach(input => {
                input.addEventListener('change', function() {
                    const assetId = this.getAttribute('data-asset-id');
                    const criterion = this.getAttribute('data-criterion');
                    const value = parseInt(this.value);
                    
                    const asset = assets.find(a => a.id === assetId);
                    if (asset) {
                        asset[criterion] = value;
                        calculateCriticality();
                        updateDashboard();
                        updateAssessmentTable();
                    }
                });
            });
        }

        // Import Functions
        function downloadTemplate() {
            const template = `Asset ID,Asset Name,Type,Location,Description,Manufacturer,Model,Install Date
P-001,Primary Pump A,Rotating,Plant A - Area 1,Main process pump,Grundfos,CR-200,2020-01-15
V-002,Storage Tank B,Fixed,Plant A - Area 2,Chemical storage tank,Acme Tanks,ST-5000,2019-05-20
M-003,Conveyor Motor C,Electrical,Plant B - Area 1,Conveyor drive motor,Siemens,IEC-315,2021-03-10`;

            const blob = new Blob([template], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'asset_import_template.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function importAssets() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('Please select a file to import.');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                const csv = e.target.result;
                const lines = csv.split('\n');
                const headers = lines[0].split(',');
                
                const importedAssets = [];
                
                for (let i = 1; i < lines.length; i++) {
                    if (lines[i].trim()) {
                        const values = lines[i].split(',');
                        const asset = {
                            id: values[0],
                            name: values[1],
                            type: values[2],
                            location: values[3],
                            description: values[4] || '',
                            manufacturer: values[5] || '',
                            model: values[6] || '',
                            installDate: values[7] || '',
                            safety: 5,
                            environmental: 5,
                            production: 5,
                            financial: 5,
                            quality: 5,
                            reputation: 5,
                            criticality: 0,
                            tier: 3
                        };
                        importedAssets.push(asset);
                    }
                }
                
                assets = assets.concat(importedAssets);
                calculateCriticality();
                updateDashboard();
                updateAssessmentTable();
                
                alert(`Successfully imported ${importedAssets.length} assets.`);
            };
            
            reader.readAsText(file);
        }

        // Assessment Functions
        function bulkAssess() {
            const selectedCheckboxes = document.querySelectorAll('#assessmentTableBody input[type="checkbox"]:checked');
            
            if (selectedCheckboxes.length === 0) {
                alert('Please select assets to assess.');
                return;
            }

            const safetyScore = prompt('Enter Safety score (1-10) for selected assets:');
            const environmentalScore = prompt('Enter Environmental score (1-10) for selected assets:');
            const productionScore = prompt('Enter Production score (1-10) for selected assets:');
            
            if (safetyScore && environmentalScore && productionScore) {
                selectedCheckboxes.forEach(checkbox => {
                    const assetId = checkbox.getAttribute('data-asset-id');
                    const asset = assets.find(a => a.id === assetId);
                    
                    if (asset) {
                        asset.safety = parseInt(safetyScore);
                        asset.environmental = parseInt(environmentalScore);
                        asset.production = parseInt(productionScore);
                    }
                });
                
                calculateCriticality();
                updateDashboard();
                updateAssessmentTable();
            }
        }

        // Report Generation
        function generateReport() {
            const reportType = document.getElementById('reportType').value;
            const companyName = document.getElementById('companyName').value || 'Your Company';
            const includeAssets = document.querySelector('input[name="includeAssets"]:checked').value;
            
            let reportAssets = assets;
            if (includeAssets === 'critical') {
                reportAssets = assets.filter(a => a.tier === 1);
            } else if (includeAssets === 'selected') {
                const selectedIds = Array.from(document.querySelectorAll('#assessmentTableBody input[type="checkbox"]:checked'))
                    .map(cb => cb.getAttribute('data-asset-id'));
                reportAssets = assets.filter(a => selectedIds.includes(a.id));
            }

            // Generate PDF using jsPDF (simplified version)
            const pdf = new jsPDF();
            
            // Add title
            pdf.setFontSize(20);
            pdf.text(`${companyName} - Criticality Assessment Report`, 20, 30);
            
            // Add date
            pdf.setFontSize(12);
            pdf.text(`Generated: ${new Date().toLocaleDateString()}`, 20, 50);
            
            // Add summary
            pdf.text(`Total Assets: ${reportAssets.length}`, 20, 70);
            pdf.text(`Critical Assets (Tier 1): ${reportAssets.filter(a => a.tier === 1).length}`, 20, 80);
            pdf.text(`High Priority Assets (Tier 2): ${reportAssets.filter(a => a.tier === 2).length}`, 20, 90);
            
            // Add asset list
            let yPosition = 110;
            pdf.text('Asset Details:', 20, yPosition);
            yPosition += 10;
            
            reportAssets.slice(0, 20).forEach(asset => {
                pdf.text(`${asset.id} - ${asset.name} (Tier ${asset.tier})`, 20, yPosition);
                yPosition += 10;
                
                if (yPosition > 250) {
                    pdf.addPage();
                    yPosition = 30;
                }
            });
            
            // Save the PDF
            pdf.save(`criticality-assessment-${Date.now()}.pdf`);
        }
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"953ea4157c2302a3","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.6.2","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDgalN1pLT3z%2FvFOjangDe3%2Bj9Z2H9P94YVDKJ%2ButLOObbZjx%2BtUEE2%2BblDSAHqbbdJ%2BN%2FaPSd2SLkOarvqRCN35tyJHBWcvlWvYdrVnOUA%2FHdRPPalvfuZAT24SAXPdrI%2FUalpI%2BLN5nD3xSnf%2FsNaPs8GuVzwb%2FazAzZw1xVq4fFmcdOTORYNVNJgxVqOO5m1Y20%2B1T0qxESQHAsV7%2BksWRChP03m1V7y01ijAJHuVwLVz11ng0HoK2CdgvTjUY0vlmcrzLnIEu3NAkjKfqgw2CG9HP%2FaQepnxWbBkUevQNvzqvpCoyc30DLDqoY6542%2FU365sGIyIGrB0nSq7BXMlIq1PsGUBkg0qUkbF6XcFfZi0GUwa1XGuR0GswtGSXCBS3XzOahdthiCuSg%2FvMHK5Mfu45W3oov%2FKZdqimo6lkn2ZEEbGEvZE6N57KUkI2C%2Begv3xRv0T2l2HGGEnGfEv7u4MoHzGzOqWeKy8E6A8GJTu9B9VX6oUWBxOk6F2gW%2BRLZtY5N4wzH6xh41ZaIf1wiUi6HZIBt5YPo8dGVeT5";
        window.__genspark_locale = "en-US";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDgalN1pLT3z/vFOjangDe3+j9Z2H9P94YVDKJ+utLOObbZjx+tUEE2+blDSAHqbbdJ+N/aPSd2SLkOarvqRCN35tyJHBWcvlWvYdrVnOUA/HdRPPalvfuZAT24SAXPdrI/UalpI+LN5nD3xSnf/sNaPs8GuVzwb/azAzZw1xVq4fFmcdOTORYNVNJgxVqOO5m1Y20+1T0qxESQHAsV7+ksWRChP03m1V7y01ijAJHuVwLVz11ng0HoK2CdgvTjUY0vlmcrzLnIEu3NAkjKfqgw2CG9HP/aQepnxWbBkUevQNvzqvpCoyc30DLDqoY6542/U365sGIyIGrB0nSq7BXMlIq1PsGUBkg0qUkbF6XcFfZi0GUwa1XGuR0GswtGSXCBS3XzOahdthiCuSg/vMHK5Mfu45W3oov/KZdqimo6lkn2ZEEbGEvZE6N57KUkI2C+egv3xRv0T2l2HGGEnGfEv7u4MoHzGzOqWeKy8E6A8GJTu9B9VX6oUWBxOk6F2gW+RLZtY5N4wzH6xh41ZaIf1wiUi6HZIBt5YPo8dGVeT5";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    